<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOTUS: LLMs Over Tables of Unstructured and Structured data</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');
        :root {
            --fern-green: #6A9E5C;
            --light-fern: #E6F0E2;
        }
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-fern);
            font-size: 16px;
            line-height: 1.6;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .header {
            background-color: var(--fern-green);
            padding: 20px 0;
            text-align: center;
        }
        .logo-title {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo img {
            width: 75px;
            height: 60px;
            margin-right: 12px;
        }
        .title h1 {
            font-size: 1.8em;
            color: white;
            margin: 0;
        }
        .tagline {
            font-size: 1em;
            color: var(--fern-green);
            text-align: center;
            margin: 20px 0;
            font-style: italic;
        }
        .navbar {
            position: fixed;
            top: -60px;
            left: 0;
            right: 0;
            background-color: var(--fern-green);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: top 0.3s;
        }
        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
        }
        .navbar-logo img {
            width: 50px;
            height: 42px;
        }
        .navbar-links {
            display: flex;
        }
        .navbar-links a {
            margin-left: 12px;
            text-decoration: none;
            color: var(--fern-green);
            background-color: white;
            border-radius: 4px;
            padding: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .navbar-links img {
            width: 30px;
            height: 30px;
        }
        .btn-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        .btn-link, .dropdown-btn {
            padding: 10px 20px;
            background-color: var(--fern-green);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .btn-link:hover, .dropdown-btn:hover {
            background-color: #5A8E4C;
        }
        .dropdown-content {
            display: none;
            background-color: var(--light-fern);
            padding: 20px;
            box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            margin-top: 20px;
        }
        iframe {
            width: 100%;
            height: 480px;
            border: none;
        }
        .research-details {
            margin-top: 40px;
        }
        .research-details h2 {
            font-size: 1.6em;
            margin-bottom: 16px;
            color: var(--fern-green);
        }
        .research-details h3 {
            font-size: 1.3em;
            color: var(--fern-green);
        }
        .research-details img {
            max-width: 55%;
            height: auto;
            margin-bottom: 20px;
            border: 1px solid var(--fern-green);
            border-radius: 6px;
        }
        .research-details table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 24px;
        }
        .research-details table, .research-details th, .research-details td {
            border: 1px solid var(--fern-green);
        }
        .research-details th, .research-details td {
            padding: 12px;
            text-align: left;
        }
        .research-details th {
            background-color: var(--fern-green);
            color: white;
        }
        .contact-section {
            background-color: var(--fern-green);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-top: 40px;
        }
        .contact-section h2 {
            margin-bottom: 20px;
            font-size: 1.6em;
        }
        .contact-form {
            max-width: 400px;
            margin: 0 auto;
        }
        .contact-form input, .contact-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .contact-form button {
            background-color: white;
            color: var(--fern-green);
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 0 10px;
            }
            .title h1 {
                font-size: 1.5em;
            }
            .btn-container {
                flex-direction: column;
                align-items: center;
            }
            .btn-link, .dropdown-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-title">
                <div class="logo">
                    <img src="lotus_logo.png" alt="Lotus Logo">
                </div>
                <div class="title">
                    <h1>LOTUS: LLMs Over Tables of Unstructured and Structured data</h1>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <p class="tagline">Enabling Semantic Queries with LLMs Over Tables of Unstructured and Structured Data</p>

        <!-- Links -->
        <div class="btn-container">
            <button class="dropdown-btn" onclick="toggleDemo()">Demo</button>
            <a href="https://discord.gg/df7ZZ4JJ" class="btn-link">Discord</a>
            <a href="https://github.com/TAG-Research/lotus" class="btn-link">Github</a>
            <a href="https://arxiv.org/pdf/2407.11418" class="btn-link">Paper</a>
        </div>
    </div>

    <nav class="navbar">
        <div class="container navbar-content">
            <div class="navbar-logo">
                <img src="lotus_logo.png" alt="Lotus Logo">
            </div>
            <div class="navbar-links">
                <a href="https://github.com/TAG-Research/lotus">
                    <img src="github_logo2.png" alt="GitHub">
                </a>
                <a href="https://arxiv.org/pdf/2407.11418">
                    <img src="paper_logo.png" alt="Paper">
                </a>
                <a href="https://discord.gg/df7ZZ4JJ">
                    <img src="discord_logo.png" alt="Discord">
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Demo Section -->
        <div id="demo-section" class="dropdown-content">
            <iframe src="http://localhost:7860" title="Demo App"></iframe>
        </div>

        <!-- Research Details Section -->
        <div class="research-details">
            <h2>Key Insights</h2>
            <p>The <strong>Lotus</strong> framework is a sophisticated method that integrates structured and unstructured data through a unique set of <strong>semantic operators</strong>. These operators, including <strong>semantic filtering</strong>, <strong>entity recognition</strong>, and <strong>cross-domain alignment</strong>, allow for advanced contextual querying, enhancing the interpretability of data relationships.</p>
            <p>The system addresses key challenges in using large language models (LLMs) for data processing tasks, including:</p>
            <ul>
                <li>Efficient execution of LLM-based operations over large datasets</li>
                <li>Composition of multiple LLM calls into complex pipelines</li>
                <li>Abstraction of low-level details like model context length limits and algorithm choices</li>
            </ul>
            
            <h3>Semantic Operators</h3>
            <p>LOTUS provides the following key semantic operators:</p>
            <ul>
                <li><strong>Semantic Filters</strong>: Return a subset of rows that pass a filtering condition specified by a natural language predicate. For example: "Keep papers that propose a new machine learning algorithm."</li>
                <li><strong>Semantic Joins</strong>: Combine data from two tables by evaluating a user-defined natural language predicate. For instance: "Join if the paper's findings support the given hypothesis."</li>
                <li><strong>Semantic Top-K</strong>: Rank a set of rows according to user-defined criteria and return the K best matches. Example: "Return the top 5 most relevant papers to the given research question."</li>
                <li><strong>Semantic Aggregations</strong>: Perform aggregations over all rows of a table using a commutative and associative natural language function. For example: "Summarize the key findings across all papers in the group."</li>
                <li><strong>Semantic Map</strong>: Perform a natural language projection over an existing column to output a new column. Example: "Extract the main hypothesis from each paper abstract."</li>
            </ul>
            
            <p>These operators can be combined to create complex query pipelines as seen in Figure 1 below that demonstrates a LOTUS program that uses these operators to search for relevant papers, filter them based on performance criteria, and generate a summary.</p>
            <img src="lotus-diagram.png" alt="LOTUS Performance Diagram">

            <h3>Applications of LOTUS</h3>
            <p>LOTUS is designed for applications requiring complex reasoning over large amounts of data. Key applications demonstrated in the paper include:</p>
            <ul>
                <li><strong>Fact-checking</strong>: LOTUS implements state-of-the-art fact-checking pipelines with improved accuracy and efficiency. The paper demonstrates how LOTUS can reproduce and improve upon the FacTool pipeline for the FEVER dataset.</li>
                <li><strong>Extreme Multi-label Classification</strong>: LOTUS reproduces state-of-the-art results for tasks like biomedical literature classification. The paper shows how LOTUS can efficiently classify papers in the BioDEX dataset.</li>
                <li><strong>Search and Ranking</strong>: LOTUS enables efficient composition of retrieval and re-ranking operations for improved search quality. The paper demonstrates this on the MS MARCO passage ranking task.</li>
            </ul>
            
            <h3>Methodology and Implementation</h3>
            <p>LOTUS provides a high-level declarative interface for specifying semantic operations using natural language expressions. The system's query engine efficiently executes these operations using various algorithms and optimizations:</p>
            <ul>
                <li><strong>Parallel Batched Inference</strong>: LOTUS uses vLLM for efficient batched inference, allowing it to process multiple inputs simultaneously.</li>
                <li><strong>Model Cascades</strong>: For operations like semantic filtering and top-k, LOTUS employs a cascade of models, starting with lightweight scoring functions based on log-probabilities of generated tokens.</li>
                <li><strong>Semantic Similarity Indices</strong>: LOTUS leverages FAISS for efficient vector similarity search, enhancing performance for operations like semantic joins and search.</li>
                <li><strong>Join Algorithms</strong>: The system implements multiple join algorithms, including nested-loop, map-search-filter, and search-filter patterns, choosing the most efficient based on the query and data characteristics.</li>
                <li><strong>Aggregation Strategies</strong>: For semantic aggregations, LOTUS uses hierarchical and partitioned aggregation patterns to handle large datasets efficiently.</li>
            </ul>
                        
            <h3>Detailed Results Summary</h3>
            <table>
                <tr>
                    <th>Task</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>Fact-checking (FEVER dataset)</td>
                    <td>
                        - 9.5% accuracy improvement over FacTool (state-of-the-art)<br>
                        - 7-34× lower execution time<br>
                        - Best LOTUS program (B) achieved 80.3% label accuracy and 77.8% full accuracy<br>
                        - With optimizations, Program B achieved 2.5% higher accuracy and 2× faster execution
                    </td>
                </tr>
                <tr>
                    <td>Extreme Multi-label Classification (BioDEX dataset)</td>
                    <td>
                        - Reproduced state-of-the-art result quality (0.9 R@10)<br>
                        - 800× lower execution time than naive join implementation<br>
                        - Efficient algorithm processed 4.5M label-document pairs in 1.7 hours
                    </td>
                </tr>
                <tr>
                    <td>Search and Ranking (MS MARCO)</td>
                    <td>
                        - 5.9-49.4% higher nDCG@10 than vanilla retriever and re-ranker methods<br>
                        - 1.67-10× lower execution time than LM-based ranking methods used in prior works<br>
                        - Best LOTUS program achieved nDCG@10 of 0.519, outperforming baseline methods
                    </td>
                </tr>
            </table>
            
            <h3>Key Figure from the Paper</h3>
            <img src="paper-diagram.png" alt="LOTUS Performance Diagram">
            <p>Figure 2: Accuracy versus execution time (log-scale) for 3 LOTUS programs (A, B, and C) implementing distinct query pipelines for fact-checking on the FEVER dataset. The blue star shows performance with LOTUS optimizations applied to Program B. This figure demonstrates how LOTUS achieves both high accuracy and low execution time compared to baseline methods.</p>
        </div>
    </div>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container">
            <h2>Contact Us</h2>
            <form class="contact-form">
                <input type="text" placeholder="Your Name" required>
                <input type="email" placeholder="Your Email" required>
                <textarea placeholder="Your Message" rows="5" required></textarea>
                <button type="submit">Send Message</button>
            </form>
        </div>
    </section>

    <script>
        function toggleDemo() {
            const demoSection = document.getElementById("demo-section");
            demoSection.style.display = demoSection.style.display === "none" || demoSection.style.display === "" ? "block" : "none";
            window.scrollTo({ top: demoSection.offsetTop, behavior: 'smooth' });
        }

        let lastScrollTop = 0;
        const navbar = document.querySelector('.navbar');
        const header = document.querySelector('.header');
        const scrollThreshold = 50; 

        window.addEventListener('scroll', function() {
            var currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
            var headerBottom = header.offsetTop + header.offsetHeight;

            if (currentScrollTop > headerBottom + scrollThreshold) {
                navbar.style.top = '0';
            } else {
                navbar.style.top = '-60px';
            }

            lastScrollTop = currentScrollTop;
        });
    </script>
</body>
</html>